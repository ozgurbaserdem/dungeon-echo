@import "tailwindcss";

@theme {
  --color-dungeon-bg: #1a1a2e;
  --color-dungeon-floor: #2d2d44;
  --color-dungeon-wall: #4a4a6a;
  --color-dungeon-wall-light: #5a5a7a;
  --color-treasure-gold: #ffd700;
  --color-treasure-gold-light: #ffed4a;
  --color-text-primary: #e8e8f0;
  --color-text-secondary: #a0a0b0;
  --color-text-muted: #6a6a8a;
  --color-text-dim: #8888a0;
  --color-text-faint: #606068;
  --color-text-warm: #c0a070;
  --color-danger: #ff4444;
  --color-danger-light: #ff6666;
}

:root {
  --grade-s: #ffd700;
  --grade-a: #f0c040;
  --grade-b: #a8b4c0;
  --grade-c: #8a7060;
  --grade-d: #606068;
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: var(--color-dungeon-bg);
  color: var(--color-text-primary);
  font-family: 'Courier New', monospace;
}

/* Pixel art style for game elements */
.pixel-border {
  image-rendering: pixelated;
  border: 2px solid var(--color-dungeon-wall);
  box-shadow:
    inset 2px 2px 0 rgba(255,255,255,0.1),
    inset -2px -2px 0 rgba(0,0,0,0.3);
}

/* Torch flicker animation */
@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; }
  25%, 75% { opacity: 0.95; }
}

.torch-glow {
  animation: flicker 2s ease-in-out infinite;
}

/* Room pulse when current */
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
  50% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
}

.current-room {
  animation: pulse 2s ease-in-out infinite;
}

/* Grade reveal animation */
@keyframes grade-reveal {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  60% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.grade-reveal {
  animation: grade-reveal 0.5s ease-out forwards;
}

/* Shimmer (S-rank persistent glow) */
@keyframes shimmer {
  0%, 100% {
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);
  }
  50% {
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 60px rgba(255, 215, 0, 0.4);
  }
}

.grade-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

/* Confetti fall (celebration particles) */
@keyframes confetti-fall {
  0% {
    transform: translateY(-20px) scale(0);
    opacity: 0;
  }
  15% {
    transform: translateY(0px) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(120px) translateX(var(--drift, 10px)) scale(0.5);
    opacity: 0;
  }
}

.confetti-particle {
  position: absolute;
  top: 0;
  animation: confetti-fall var(--duration, 2s) ease-out forwards;
  animation-delay: var(--delay, 0s);
  pointer-events: none;
  font-size: 1.5rem;
}

/* Distance reveal (room entry) */
@keyframes distance-reveal {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.distance-reveal {
  animation: distance-reveal 0.3s ease-out forwards;
}

/* Clue reveal (room entry) */
@keyframes clue-reveal {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.clue-reveal {
  animation: clue-reveal 0.4s ease-out forwards;
}

/* Treasure pulse (treasure discovery ripple) */
@keyframes treasure-pulse {
  0% {
    r: 30;
    opacity: 0.6;
    stroke-width: 3;
  }
  100% {
    r: 90;
    opacity: 0;
    stroke-width: 1;
  }
}

.treasure-pulse {
  fill: none;
  stroke: #ffd700;
  animation: treasure-pulse 0.8s ease-out forwards;
}

.treasure-pulse-delayed {
  fill: none;
  stroke: #ffd700;
  animation: treasure-pulse 0.8s ease-out 0.2s forwards;
  opacity: 0;
}

/* Dragon pulse (dragon discovery ripple) */
@keyframes dragon-pulse {
  0% {
    r: 30;
    opacity: 0.6;
    stroke-width: 3;
  }
  100% {
    r: 90;
    opacity: 0;
    stroke-width: 1;
  }
}

.dragon-pulse {
  fill: none;
  stroke: #ff4444;
  animation: dragon-pulse 0.8s ease-out forwards;
}

.dragon-pulse-delayed {
  fill: none;
  stroke: #ff4444;
  animation: dragon-pulse 0.8s ease-out 0.2s forwards;
  opacity: 0;
}

/* Win text reveal */
@keyframes win-text-reveal {
  0% {
    transform: translateY(10px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.win-text-reveal {
  opacity: 0;
  animation: win-text-reveal 0.4s ease-out 0.6s forwards;
}

.win-button-reveal {
  opacity: 0;
  animation: win-text-reveal 0.4s ease-out 0.8s forwards;
}

/* Modal entrance */
@keyframes modal-enter {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-enter {
  animation: modal-enter 0.3s ease-out forwards;
}

/* Room hover */
.room-hover {
  transition: opacity 0.15s ease;
  opacity: 0;
}

.room-hover:hover {
  opacity: 0.4;
}
